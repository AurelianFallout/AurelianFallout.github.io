<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURELIAN NETWORK TERMINAL</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- Google Fonts using link instead of @import -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #33ff33;
            --primary-glow: rgba(51, 255, 51, 0.3);
            --primary-dim: #22dd22;
            --secondary-color: #ffff00;
            --theme-name: "CLASSIC GREEN";
        }
        
        body.amber-theme {
            --primary-color: #ffb000;
            --primary-glow: rgba(255, 176, 0, 0.3);
            --primary-dim: #cc8800;
            --secondary-color: #ff6600;
            --theme-name: "MOJAVE AMBER";
        }
        
        /* Force all text to inherit theme colors */
        body, body * {
            color: var(--primary-color) !important;
            font-family: 'Share Tech Mono', monospace;
        }
        
        /* Special cases that need different colors */
        .section-title,
        .section-title * {
            color: var(--secondary-color) !important;
        }
        
        .link-desc,
        .header .subtitle,
        .footer,
        .boot-text,
        .now-playing {
            color: var(--primary-dim) !important;
        }
        
        .access-granted {
            color: var(--secondary-color) !important;
        }
        
        body {
            background: #000;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            position: relative;
            overflow-x: hidden;
            margin: 0;
        }
        
        /* CRT Glitch Effect */
        @keyframes glitch {
            0% {
                transform: translate(0);
            }
            20% {
                transform: translate(-2px, 2px);
            }
            40% {
                transform: translate(-2px, -2px);
            }
            60% {
                transform: translate(2px, 2px);
            }
            80% {
                transform: translate(2px, -2px);
            }
            100% {
                transform: translate(0);
            }
        }
        
        @keyframes glitchColor {
            0% {
                text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
                            -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
                            0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
            }
            14% {
                text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
                            -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
                            0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
            }
            15% {
                text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
                            0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
                            -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
            }
            49% {
                text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
                            0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
                            -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
            }
            50% {
                text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
                            0.05em 0 0 rgba(0, 255, 0, 0.75),
                            0 -0.05em 0 rgba(0, 0, 255, 0.75);
            }
            99% {
                text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
                            0.05em 0 0 rgba(0, 255, 0, 0.75),
                            0 -0.05em 0 rgba(0, 0, 255, 0.75);
            }
            100% {
                text-shadow: -0.025em 0 0 rgba(255, 0, 0, 0.75),
                            -0.025em -0.025em 0 rgba(0, 255, 0, 0.75),
                            -0.025em -0.05em 0 rgba(0, 0, 255, 0.75);
            }
        }
        
        .glitch-active {
            animation: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both,
                       glitchColor 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }
        
        /* CRT scanline effect */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15),
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 1000;
        }
        
        /* CRT Curvature overlay */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, transparent 60%, rgba(0, 0, 0, 0.5) 100%);
            pointer-events: none;
            z-index: 999;
        }
        
        /* Login screen */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            padding: 20px;
        }
        
        @keyframes fadeInText {
            to { opacity: 1; }
        }
        
        .login-content {
            text-align: center;
            max-width: 90%;
        }
        
        .login-title {
            font-size: clamp(1.2em, 4vw, 1.8em);
            margin-bottom: 20px;
            animation: textGlow 2s ease-in-out infinite;
            letter-spacing: 3px;
        }
        
        .login-line {
            font-size: clamp(0.8em, 2.5vw, 1em);
            margin: 8px 0;
            opacity: 0;
            animation: fadeInText 0.3s ease-in forwards;
        }
        
        .login-line:nth-child(2) { animation-delay: 0.3s; }
        .login-line:nth-child(3) { animation-delay: 0.8s; }
        .login-line:nth-child(4) { animation-delay: 1.3s; }
        .login-line:nth-child(5) { animation-delay: 1.8s; }
        
        .password-input {
            display: inline-block;
            margin-left: 10px;
            animation: typing 0.5s steps(8) 0.8s forwards;
            overflow: hidden;
            white-space: nowrap;
            width: 0;
        }
        
        @keyframes typing {
            to { width: 80px; }
        }
        
        .access-granted {
            color: var(--secondary-color) !important;
            font-size: clamp(1em, 3vw, 1.3em);
            text-shadow: 0 0 20px var(--secondary-color);
        }
        
        .loading-bar {
            width: 80%;
            max-width: 400px;
            height: 20px;
            border: 2px solid var(--primary-color);
            margin: 20px auto;
            position: relative;
            opacity: 0;
            animation: fadeInText 0.3s ease-in 2.3s forwards;
        }
        
        .loading-fill {
            height: 100%;
            background: var(--primary-color);
            width: 0;
            animation: loadBar 0.7s ease-out 2.3s forwards;
            box-shadow: 0 0 10px var(--primary-color);
        }
        
        @keyframes loadBar {
            to { width: 100%; }
        }
        
        /* Main content container */
        .main-content {
            opacity: 0;
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        
        /* Screen flicker */
        @keyframes flicker {
            0% { opacity: 0.97; }
            5% { opacity: 0.95; }
            10% { opacity: 0.98; }
            15% { opacity: 0.96; }
            20% { opacity: 0.97; }
            100% { opacity: 0.97; }
        }
        
        /* Text glow */
        @keyframes textGlow {
            0%, 100% { 
                text-shadow: 0 0 10px var(--primary-color), 0 0 20px var(--primary-color);
            }
            50% { 
                text-shadow: 0 0 15px var(--primary-color), 0 0 25px var(--primary-color), 0 0 30px var(--primary-color);
            }
        }
        
        /* Large Profile Picture Above Terminal */
        .profile-header {
            text-align: center;
            margin-bottom: 20px;
            animation: textGlow 3s ease-in-out infinite;
            width: 100%;
        }
        
        .profile-pic {
            width: 150px;
            height: 150px;
            filter: 
                drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2))
                drop-shadow(0 0 15px var(--primary-glow));
            margin-bottom: 15px;
            object-fit: cover;
        }
        
        .profile-name {
            font-size: 2.5em;
            letter-spacing: 4px;
            text-shadow: 0 0 15px var(--primary-color);
            margin-bottom: 10px;
            color: var(--primary-color) !important; /* Always green in classic theme */
        }
        
        body.amber-theme .profile-name {
            color: var(--primary-color) !important; /* Stays amber in amber theme */
        }
        
        .profile-tagline {
            font-size: 1.1em;
            color: var(--primary-dim) !important;
            letter-spacing: 2px;
        }
        
        .terminal {
            max-width: 800px;
            width: 100%;
            background: rgba(0, 20, 0, 0.95);
            border: 3px solid var(--primary-color);
            border-radius: 5px;
            padding: clamp(15px, 4vw, 40px);
            box-shadow: 
                0 0 20px var(--primary-glow),
                inset 0 0 100px rgba(0, 0, 0, 0.5);
            animation: flicker 5s infinite;
            position: relative;
            z-index: 1;
            margin: 0 auto;
        }
        
        .terminal::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
            pointer-events: none;
        }
        
        .header {
            text-align: center;
            margin-bottom: clamp(20px, 5vw, 30px);
        }
        
        .header h1 {
            font-size: clamp(1em, 3.5vw, 1.3em);
            margin-bottom: 8px;
            letter-spacing: 2px;
            line-height: 1.4;
        }
        
        .header .subtitle {
            font-size: clamp(0.75em, 2.5vw, 0.9em);
            line-height: 1.4;
        }
        
        .divider {
            border: none;
            border-top: 1px solid var(--primary-color);
            margin: clamp(15px, 4vw, 20px) 0;
            box-shadow: 0 0 5px var(--primary-color);
        }
        
        .section {
            margin: clamp(20px, 5vw, 25px) 0;
        }
        
        .section-title {
            font-size: clamp(0.95em, 3vw, 1.1em);
            margin-bottom: clamp(12px, 3vw, 15px);
            text-shadow: 0 0 10px var(--secondary-color);
            text-align: center;
            line-height: 1.4;
        }
        
        .section-title::before {
            content: "> ";
        }
        
        .link-container {
            display: flex;
            flex-direction: column;
            gap: clamp(10px, 3vw, 12px);
        }
        
        .link {
            display: block;
            padding: clamp(15px, 4vw, 16px) clamp(15px, 4vw, 20px);
            background: var(--primary-glow);
            border: 2px solid var(--primary-color);
            border-left: 4px solid var(--primary-color);
            text-decoration: none;
            color: var(--primary-color) !important;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-align: center;
            min-height: 70px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            -webkit-tap-highlight-color: transparent;
        }
        
        .link::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.05);
            transition: left 0.3s ease;
        }
        
        .link:hover::before,
        .link:active::before {
            left: 0;
        }
        
        .link:hover,
        .link:active {
            background: rgba(255, 255, 255, 0.1);
            border-left-width: 8px;
            box-shadow: 0 0 15px var(--primary-glow);
            transform: scale(1.02);
        }
        
        .link-title {
            font-size: clamp(0.95em, 3.5vw, 1.1em);
            margin-bottom: 5px;
            font-weight: bold;
            position: relative;
            z-index: 1;
        }
        
        .link-desc {
            font-size: clamp(0.75em, 2.5vw, 0.85em);
            position: relative;
            z-index: 1;
            line-height: 1.3;
        }
        
        .footer {
            text-align: center;
            margin-top: clamp(20px, 5vw, 30px);
            font-size: clamp(0.7em, 2.5vw, 0.8em);
        }
        
        .cursor {
            display: inline-block;
            width: 10px;
            height: 1em;
            background: var(--primary-color);
            animation: blink 1s step-end infinite;
            margin-left: 5px;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .boot-text {
            margin-bottom: 10px;
            font-size: clamp(0.75em, 2.5vw, 0.9em);
            text-align: center;
            line-height: 1.5;
        }
        
        /* Control Panel */
        .control-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-btn {
            background: rgba(0, 20, 0, 0.95);
            border: 2px solid var(--primary-color);
            color: var(--primary-color) !important;
            padding: 12px 15px;
            font-family: 'Share Tech Mono', monospace;
            font-size: clamp(0.75em, 2.2vw, 0.85em);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px var(--primary-glow);
            text-transform: uppercase;
            letter-spacing: 1px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .control-btn:hover {
            background: var(--primary-glow);
            box-shadow: 0 0 20px var(--primary-glow);
            transform: translateY(-2px);
        }
        
        .control-btn:active {
            transform: translateY(0);
        }
        
        /* Radio Player */
        .radio-player {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2000;
            background: rgba(0, 20, 0, 0.98);
            border: 3px solid var(--primary-color);
            padding: 15px;
            box-shadow: 0 0 20px var(--primary-glow);
            display: none;
            max-width: calc(100% - 20px);
            width: 500px;
        }
        
        .radio-player.active {
            display: block;
        }
        
        .radio-header {
            text-align: center;
            font-size: clamp(0.9em, 2.5vw, 1em);
            margin-bottom: 15px;
            color: var(--secondary-color) !important;
            text-shadow: 0 0 10px var(--secondary-color);
        }
        
        .radio-stations {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .radio-station-btn {
            background: var(--primary-glow);
            border: 1px solid var(--primary-color);
            color: var(--primary-color) !important;
            padding: 12px;
            font-family: 'Share Tech Mono', monospace;
            font-size: clamp(0.8em, 2.2vw, 0.85em);
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            min-height: 44px;
            display: flex;
            align-items: center;
            -webkit-tap-highlight-color: transparent;
        }
        
        .radio-station-btn:hover,
        .radio-station-btn.playing {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--secondary-color);
            box-shadow: 0 0 10px var(--primary-glow);
        }
        
        .radio-controls {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid var(--primary-color);
        }
        
        .close-radio {
            background: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color) !important;
            padding: 5px 10px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.8em;
            cursor: pointer;
        }
        
        .close-radio:hover {
            background: var(--primary-glow);
        }
        
        .now-playing {
            font-size: 0.75em;
            text-align: center;
            margin-top: 5px;
        }
        
        /* ENTER Button */
        .enter-btn {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-family: 'Share Tech Mono', monospace;
            padding: 15px 30px;
            margin-top: 30px;
            cursor: pointer;
            font-size: clamp(0.9em, 2.5vw, 1.1em);
            letter-spacing: 2px;
            text-transform: uppercase;
            animation: pulse 1.5s infinite;
            opacity: 0;
            transition: all 0.3s ease;
            display: none;
            margin-left: auto;
            margin-right: auto;
        }
        
        .enter-btn:hover {
            background: var(--primary-glow);
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--primary-color);
        }
        
        .enter-btn:active {
            transform: scale(0.95);
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(51, 255, 51, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(51, 255, 51, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(51, 255, 51, 0);
            }
        }
        
        body.amber-theme .enter-btn {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        body.amber-theme .enter-btn:hover {
            background: var(--primary-glow);
            box-shadow: 0 0 15px var(--primary-color);
        }
        
        /* Responsive video containers */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            margin: 0 auto;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 10px var(--primary-glow);
        }
        
        .shorts-grid {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .short-container {
            position: relative;
            width: 100%;
            max-width: 315px;
            padding-bottom: 177.78%; /* 9:16 aspect ratio for shorts */
            height: 0;
            overflow: hidden;
        }
        
        .short-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 10px var(--primary-glow);
        }
        
        /* Extra mobile optimization */
        @media (max-width: 600px) {
            body {
                padding: 5px;
            }
            
            .profile-pic {
                width: 120px;
                height: 120px;
            }
            
            .profile-name {
                font-size: 2em;
            }
            
            .profile-tagline {
                font-size: 0.9em;
            }
            
            .terminal {
                border-width: 2px;
                padding: 15px;
            }
            
            .link {
                min-height: 75px;
            }
            
            .section-title {
                word-break: break-word;
            }
            
            .control-panel {
                top: 5px;
                right: 5px;
                gap: 6px;
            }
            
            .control-btn {
                padding: 10px 12px;
                font-size: 0.75em;
                min-height: 40px;
            }
            
            .radio-player {
                bottom: 5px;
                padding: 12px;
                width: calc(100% - 10px);
            }
            
            .short-container {
                max-width: 280px;
            }
        }
        
        @media (max-width: 380px) {
            .profile-pic {
                width: 100px;
                height: 100px;
            }
            
            .profile-name {
                font-size: 1.7em;
            }
            
            .header h1 {
                letter-spacing: 1px;
            }
            
            .link-title {
                font-size: 0.9em;
            }
            
            .short-container {
                max-width: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Animation Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-content">
            <div class="login-title">ROBCO INDUSTRIES (TM) TERMLINK</div>
            <div class="login-line">INITIALIZING SYSTEM...</div>
            <div class="login-line">ENTER PASSWORD:<span class="password-input">********</span></div>
            <div class="login-line">VERIFYING CREDENTIALS...</div>
            <div class="login-line access-granted">>>> ACCESS GRANTED <<<</div>
            <div class="loading-bar">
                <div class="loading-fill"></div>
            </div>
            <!-- Add ENTER button -->
            <button class="enter-btn" id="enterBtn" style="display: none;">
                [PRESS ENTER TO CONTINUE]
            </button>
        </div>
    </div>

    <!-- Control Panel -->
    <div class="control-panel">
        <button class="control-btn" id="themeToggle">THEME: <span id="themeName">CLASSIC</span></button>
        <button class="control-btn" id="radioToggle">RADIO</button>
    </div>

    <!-- Radio Player -->
    <div class="radio-player" id="radioPlayer">
        <div class="radio-header">WASTELAND RADIO</div>
        <div class="radio-stations">
            <button class="radio-station-btn" data-station="radio-new-vegas">
                Radio New Vegas - Mr. New Vegas
            </button>
            <button class="radio-station-btn" data-station="galaxy-news-radio">
                Galaxy News Radio - Three Dog
            </button>
            <button class="radio-station-btn" data-station="diamond-city-radio">
                Diamond City Radio - Travis Miles
            </button>
        </div>
        <div class="now-playing" id="nowPlaying">Select a station</div>
        <div class="radio-controls">
            <button class="close-radio" id="closeRadio">CLOSE</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Large Profile Picture and Name Above Terminal -->
        <div class="profile-header">
            <img src="Watermark.png" alt="Aurelian Profile" class="profile-pic">
            <br>
            <div class="profile-name">AURELIAN</div>
            <div class="profile-tagline">FALLOUT CONTENT CREATOR</div>
        </div>
        
        <div class="terminal">
            <div class="boot-text">AURELIAN NETWORK TERMINAL PROTOCOL</div>
            <div class="boot-text">SOCIAL DATABANK ACCESS</div>
            
            <hr class="divider">
            
            <div class="header">
                <h1>USER PROFILE LOADED</h1>
                <p class="subtitle">SOCIAL NETWORK DATABANK /// LINK DIRECTORY</p>
            </div>
            
            <hr class="divider">
            
            <div class="section">
                <div class="section-title">PRIMARY CHANNELS</div>
                <div class="link-container">
                    <a href="https://www.youtube.com/@AurelianFO" class="link" target="_blank" rel="noopener">
                        <div class="link-title">YOUTUBE</div>
                    </a>
                    
                    <a href="https://www.tiktok.com/@aurelian_fo" class="link" target="_blank" rel="noopener">
                        <div class="link-title">TIKTOK</div>
                    </a>
                    
                    <a href="https://www.instagram.com/aurelian_fo/" class="link" target="_blank" rel="noopener">
                        <div class="link-title">INSTAGRAM</div>
                    </a>
                </div>
            </div>
            
            <div class="section">
                <div class="section-title">ADDITIONAL PROTOCOLS</div>
                <div class="link-container">
                    
                    <a href="mailto:aurelianfallout@gmail.com" class="link">
                        <div class="link-title">EMAIL CONTACT</div>
                        <div class="link-desc">Direct message protocol</div>
                    </a>
                </div>
            </div>
            <br>
            <div class="content">
                <div class="section">
                    <h2>Latest Shorts</h2>
                    <div id="shorts" class="shorts-grid"></div>
                </div>
                <br>
                <div class="section">
                    <h2>Latest Video</h2>
                    <div id="video"></div>
                </div>
            </div>

            <hr class="divider">
            
            <div class="footer">
                AURELIAN NETWORK STATUS: OPERATIONAL<span class="cursor"></span>
                <div style="margin-top: 5px; font-size: 0.8em;">© AURELIAN NETWORK - ALL RIGHTS RESERVED</div>
            </div>
        </div>
    </div>

    <script>
        // Random CRT glitch effect
        function triggerGlitch() {
            const terminal = document.querySelector('.terminal');
            if (terminal && Math.random() < 0.3) { // 30% chance
                terminal.classList.add('glitch-active');
                setTimeout(() => {
                    terminal.classList.remove('glitch-active');
                }, 300);
            }
        }

        // Trigger glitch randomly every 8-15 seconds
        function scheduleRandomGlitch() {
            const delay = Math.random() * 7000 + 8000; // 8-15 seconds
            setTimeout(() => {
                triggerGlitch();
                scheduleRandomGlitch();
            }, delay);
        }

        // Start glitch effect after page loads
        setTimeout(() => {
            scheduleRandomGlitch();
        }, 5000);

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeName = document.getElementById('themeName');
        let currentTheme = 'classic';

        themeToggle.addEventListener('click', () => {
            if (currentTheme === 'classic') {
                document.body.classList.add('amber-theme');
                themeName.textContent = 'MOJAVE';
                currentTheme = 'amber';
            } else {
                document.body.classList.remove('amber-theme');
                themeName.textContent = 'CLASSIC';
                currentTheme = 'classic';
            }
            
            // Trigger glitch on theme change
            const terminal = document.querySelector('.terminal');
            if (terminal) {
                terminal.classList.add('glitch-active');
                setTimeout(() => {
                    terminal.classList.remove('glitch-active');
                }, 300);
            }
        });

        // Radio Player with HTML5 Audio API
        const radioToggle = document.getElementById('radioToggle');
        const radioPlayer = document.getElementById('radioPlayer');
        const closeRadio = document.getElementById('closeRadio');
        const stationButtons = document.querySelectorAll('.radio-station-btn');
        const nowPlaying = document.getElementById('nowPlaying');

        // Complete Radio New Vegas timeline (timestamps in seconds)
        const radioNewVegasTimestamps = [
            1,     // 0:01 Mr. New Vegas
            46,    // 0:46 Blue Moon by Frank Sinatra
            216,   // 3:36 Mr. New Vegas
            272,   // 4:32 Manhattan by Gerhard Trede
            353,   // 5:53 Mr. New Vegas
            408,   // 6:48 Mad About The Boy by Dinah Washington
            537,   // 8:57 Mr. New Vegas
            579,   // 9:39 Von Spanien Nach Südamerika by Gerhard Trede
            684,   // 11:24 Mr. New Vegas
            745,   // 12:25 Heartache by The Numbers sung by Guy Mitchell
            896,   // 14:56 Mr. New Vegas
            955,   // 15:55 Where Have You Been All My Life by Hal Davis and John Cacavas
            1130,  // 18:50 Mr. New Vegas
            1217,  // 20:17 Ain't That a Kick in the Head by Deana Martin
            1362,  // 22:42 Mr. New Vegas
            1423,  // 23:43 Why Don't You Do Right by Peggy Lee
            1625,  // 27:05 Mr. New Vegas
            1679,  // 27:59 Strahlende Trompete by Gerhard Trede
            1863,  // 31:03 Mr. New Vegas
            1920,  // 32:00 Sit and Dream by Pete Thomas
            2008,  // 33:28 Mr. New Vegas
            2061,  // 34:21 It's a Sin to Tell a Lie by The Ink Spots
            2202,  // 36:42 Mr. New Vegas
            2261,  // 37:41 Hallo Mister X by Gerhard Trede
            2390,  // 39:50 Mr. New Vegas
            2447,  // 40:47 Jingle Jangle Jingle by Kay Kyser
            2647,  // 44:07 Mr. New Vegas
            2692,  // 44:52 Big Iron by Marty Robbins
            2930,  // 48:50 Mr. New Vegas
            2994,  // 49:54 Something's Gotta Give sung by Bill Crosby
            3116,  // 51:56 Mr. New Vegas
            3150,  // 52:30 Honorable News Mention
            3173,  // 52:53 Slow Bounce by Gerhard Trede
            3286,  // 54:46 Mr. New Vegas
            3342,  // 55:42 Johnny Guitar by Peggy Lee
            3521,  // 58:41 Mr. New Vegas
            3566,  // 59:26 American Swing by Gerhard Trede
            3661,  // 1:01:01 Mr. New Vegas
            3716,  // 1:01:56 Love Me As Though There Were No Tomorrow by Nat King Cole
            3870   // 1:04:30 Mr. New Vegas
        ];

        // Complete Galaxy News Radio timeline (timestamps in seconds)
        const galaxyNewsRadioTimestamps = [
            0,     // 0:00 - Three Dog
            115,   // 1:55 - I Don't Want To Set The World On Fire by The Ink Spots
            300,   // 5:00 - Three Dog
            367,   // 6:07 - Crazy He Calls Me by Billie Holiday
            550,   // 9:10 - Three Dog
            640,   // 10:40 - Fox Boogie by Gerhard Trede
            836,   // 13:56 - Three Dog (Herbert Daring Dashwood)
            1060,  // 17:40 - Mighty Mighty Man by Roy Brown
            1214,  // 20:14 - Three Dog
            1340,  // 22:20 - Way Back Home by Bob Crosby
            1512,  // 25:12 - Three Dog
            1614,  // 26:54 - I'm Tickled Pink by Jack Shaindlin Dance Orchestra
            1724,  // 28:44 - Three Dog
            1798,  // 29:58 - Jazzy Interlude by Billy Munn
            1968,  // 32:48 - Three Dog (Herbert Daring Dashwood)
            2225,  // 37:05 - A Wonderful Guy by Tex Beneke
            2338,  // 38:58 - Three Dog
            2446,  // 40:46 - Rhythm For You by Eddy Christiani
            2626,  // 43:46 - Three Dog
            2721,  // 45:21 - Civilization (Bongo Bongo Bongo) by Andrews Sisters|Danny Kaye
            2903,  // 48:23 - Three Dog (short, just a couple seconds)
            2906,  // 48:26 - Boogie Man by Sid Phillips
            3049,  // 50:49 - Three Dog (Herbert Daring Dashwood)
            3265,  // 54:25 - Anything Goes by Cole Porter
            3453,  // 57:33 - Three Dog
            3512,  // 58:32 - Let's Go Sunning by Jack Shaindlin Dance Orchestra
            3614,  // 1:00:14 - Three Dog
            3663,  // 1:01:03 - Into Each Life Some Rain Must Fall by The Ink Spots|Ella Fitzgerald
            3851,  // 1:04:11 - Three Dog
            3982,  // 1:06:22 - Swing Doors by Allan Gray
            4162,  // 1:09:22 - Three Dog (Herbert Daring Dashwood)
            4404,  // 1:13:24 - Maybe by The Ink Spots
            4576,  // 1:16:16 - Three Dog
            4657,  // 1:17:37 - Easy Living by Billie Holiday
            4841,  // 1:20:41 - Three Dog
            4899,  // 1:21:39 - Jolly Days by Gerhard Trede
            4998,  // 1:23:18 - Three Dog
            5108,  // 1:25:08 - Butcher Pete by Roy Brown
            5256,  // 1:27:36 - Three Dog
            5358   // 1:29:18 - Happy Times by Bob Crosby and the Bobcats
        ];

        // Diamond City Radio timeline (timestamps in seconds)
        const diamondCityRadioTimestamps = [
            0,      // 00:00 "A Wonderful Guy" by Tex Beneke
            115,    // 01:55 "Ac-cent-tchu-ate the Positive" by Bing Crosby
            277,    // 04:37 "Anything Goes" by Cole Porter
            469,    // 07:49 "Atom Bomb Baby" by The Five Stars
            608,    // 10:08 "Crazy He Calls Me" by Billie Holiday
            793,    // 13:13 "Butcher Pete (Part 1)" by Roy Brown
            942,    // 15:42 "Butcher Pete (Part 2)" by Roy Brown
            1110,   // 18:30 "Civilization (Bongo,Bongo,Bongo)" by Vic Schoen
            1296,   // 21:36 "Crawl Out Through the Fallout" by Sheldon Allman
            1437,   // 23:57 "Dear Hearts and Gentle People" by Bob Crosby
            1590,   // 26:30 "Easy Living" by Billie Holiday
            1774,   // 29:34 "Good Rocking Tonight" by Roy Brown
            1954,   // 32:34 "Grandma Plays the Numbers" by Wynonie Harris
            2115,   // 35:15 "Happy Times" by Bob Crosby
            2300,   // 38:20 "He's a Demon, He's a Devil, He's a Doll" by Betty Hutton
            2494,   // 41:34 "I Don't Want to Set the World on Fire" by The Ink Spots
            2680,   // 44:40 "Into Each Life Some Rain Must Fall" by Ella Fitzgerald
            2870,   // 47:50 "It's a Man" by Betty Hutton
            3014,   // 50:14 "It's All Over But the Crying" by The Ink Spots
            3183,   // 53:03 "Keep A Knockin'" by Louis Jordan
            3333,   // 55:33 "Maybe" by The Ink Spots
            3519,   // 58:39 "Mighty, Mighty Man" by Roy Brown
            3677,   // 1:01:17 "One More Tomorrow" by Marjorie Hughes
            3876,   // 1:04:36 "Orange Colored Sky" by Stan Kenton
            4027,   // 1:07:07 "Personality" by The Pied Pipers
            4195,   // 1:09:55 "Pistol Packin' Mama" by Vic Schoen
            4377,   // 1:12:57 "Right Behind You Baby" by Ray Smith
            4523,   // 1:15:23 "Rocket 69" by Todd Rhodes
            4689,   // 1:18:09 "Sixty Minute Man" by Billy Ward
            4839,   // 1:20:39 "The End of the World" by Skeeter Davis
            5000,   // 1:23:20 "The Wanderer" by Dion
            5166,   // 1:26:06 "Undecided" by Chick Webb
            5362,   // 1:29:22 "Uranium Fever" by Elton Britt
            5502,   // 1:31:42 "Uranium Rock" by Warren Smith
            5632,   // 1:33:52 "Way Back Home" by Bob Crosby
            5811,   // 1:36:51 "Whole Lotta Shakin' Goin' On" by Big Maybelle
            5979    // 1:39:39 "Worry Worry Worry" by The Three Suns
        ];

        // Radio stations configuration with local files
        const stations = {
            'radio-new-vegas': {
                name: 'Radio New Vegas - Mr. New Vegas',
                audioFile: 'Assets/RNV.mp3',
                timestamps: radioNewVegasTimestamps,
                totalLength: 3928, // 1:05:28
                displayName: 'Radio New Vegas - Mr. New Vegas',
                lastPosition: 0
            },
            'galaxy-news-radio': {
                name: 'Galaxy News Radio - Three Dog',
                audioFile: 'Assets/GNR.mp3',
                timestamps: galaxyNewsRadioTimestamps,
                totalLength: 5523, // 1:23:03
                displayName: 'Galaxy News Radio - Three Dog',
                lastPosition: 0
            },
            'diamond-city-radio': {
                name: 'Diamond City Radio - Travis Miles',
                audioFile: 'Assets/DCR.mp3',
                timestamps: diamondCityRadioTimestamps,
                totalLength: 6133, // 1:42:13
                displayName: 'Diamond City Radio - Travis Miles',
                lastPosition: 0
            }
        };

        // Global audio player
        let audioPlayer = null;
        let currentStation = null;
        let currentStationData = null;
        let isPlaying = false;
        let startTime = 0;
        let elapsedTimeInterval = null;
        let totalElapsedSeconds = 0;

        // Get a random start time from the timestamps array
        function getRandomStartTime(timestamps) {
            // Start at a random track but not at the very end
            const maxIndex = timestamps.length - 5; // Leave some room
            const randomIndex = Math.floor(Math.random() * maxIndex);
            return timestamps[randomIndex];
        }

        // Get current track info based on elapsed time
        function getCurrentTrack(elapsedSeconds, stationTimestamps) {
            for (let i = stationTimestamps.length - 1; i >= 0; i--) {
                if (elapsedSeconds >= stationTimestamps[i]) {
                    if (i === stationTimestamps.length - 1) {
                        // At the end of the playlist, loop back to start
                        return {
                            currentTrackIndex: 0,
                            timeIntoCurrentTrack: elapsedSeconds % stationTimestamps[stationTimestamps.length - 1]
                        };
                    }
                    
                    const nextTimestamp = stationTimestamps[i + 1];
                    return {
                        currentTrackIndex: i,
                        timeIntoCurrentTrack: elapsedSeconds - stationTimestamps[i],
                        timeUntilNextTrack: nextTimestamp - elapsedSeconds
                    };
                }
            }
            return {
                currentTrackIndex: 0,
                timeIntoCurrentTrack: elapsedSeconds
            };
        }

        // Start tracking elapsed time
        function startElapsedTimeTracker() {
            if (elapsedTimeInterval) {
                clearInterval(elapsedTimeInterval);
            }
            
            elapsedTimeInterval = setInterval(() => {
                if (audioPlayer && !audioPlayer.paused) {
                    try {
                        totalElapsedSeconds = startTime + Math.floor(audioPlayer.currentTime);
                        // Update stored position for current station
                        if (currentStation) {
                            stations[currentStation].lastPosition = Math.floor(audioPlayer.currentTime);
                        }
                    } catch(e) {
                        totalElapsedSeconds++;
                    }
                }
                
                // Update display only when radio panel is open
                if (radioPlayer.classList.contains('active')) {
                    updateTrackDisplay();
                }
            }, 1000);
        }

        function updateTrackDisplay() {
            if (!currentStation) {
                nowPlaying.textContent = 'Select a station';
                return;
            }
            
            if (audioPlayer && audioPlayer.paused) {
                nowPlaying.textContent = stations[currentStation].displayName + ' (Paused)';
                return;
            }
            
            // Show station name and current time
            const station = stations[currentStation];
            const currentTime = Math.floor(audioPlayer ? audioPlayer.currentTime : totalElapsedSeconds);
            const minutes = Math.floor(currentTime / 60);
            const seconds = currentTime % 60;
            const paddedSeconds = seconds.toString().padStart(2, '0');
            
            nowPlaying.textContent = `♫ ${station.displayName} (${minutes}:${paddedSeconds})`;
        }

        // Load and play a station
        function toggleStation(stationKey) {
            const station = stations[stationKey];
            
            // If clicking the same station that's currently playing
            if (currentStation === stationKey) {
                if (audioPlayer) {
                    if (audioPlayer.paused) {
                        // Resume playback
                        audioPlayer.play().catch(e => console.error('Play failed:', e));
                        isPlaying = true;
                        stationButtons.forEach(btn => {
                            if (btn.getAttribute('data-station') === stationKey) {
                                btn.classList.add('playing');
                            }
                        });
                        updateTrackDisplay();
                        console.log(`Radio resumed: ${station.name}`);
                    } else {
                        // Pause playback and store position
                        stations[currentStation].lastPosition = Math.floor(audioPlayer.currentTime);
                        audioPlayer.pause();
                        isPlaying = false;
                        stationButtons.forEach(btn => {
                            if (btn.getAttribute('data-station') === stationKey) {
                                btn.classList.remove('playing');
                            }
                        });
                        updateTrackDisplay();
                        console.log(`Radio paused: ${station.name}`);
                    }
                }
                return;
            }
            
            // Store current position before switching (for current station)
            if (currentStation && audioPlayer) {
                // Stop the time tracker first
                if (elapsedTimeInterval) {
                    clearInterval(elapsedTimeInterval);
                    elapsedTimeInterval = null;
                }
                
                // Store the EXACT current time from the audio player
                stations[currentStation].lastPosition = Math.floor(audioPlayer.currentTime);
                console.log(`Stored position for ${currentStation}: ${stations[currentStation].lastPosition} seconds`);
            }
            
            // Get start time - check if we have a last position for this station
            let startSeconds = 0;
            if (station.lastPosition && station.lastPosition > 0) {
                // Resume from last known position (modulo to handle looping)
                startSeconds = station.lastPosition % station.totalLength;
                console.log(`Resuming ${station.name} from stored position: ${startSeconds} seconds`);
            } else {
                // Start at random time for first time
                startSeconds = getRandomStartTime(station.timestamps);
                console.log(`Starting ${station.name} at random time: ${startSeconds} seconds`);
            }
            
            // Stop previous station UI
            stationButtons.forEach(btn => btn.classList.remove('playing'));
            
            // Create or update audio player
            if (!audioPlayer) {
                audioPlayer = new Audio(station.audioFile);
                
                // Set up event listeners
                audioPlayer.addEventListener('canplaythrough', function() {
                    console.log(`Audio loaded: ${station.name}`);
                });
                
                audioPlayer.addEventListener('error', function(e) {
                    console.error('Audio error:', e);
                    nowPlaying.textContent = 'Error loading station';
                    stationButtons.forEach(btn => btn.classList.remove('playing'));
                });
                
                audioPlayer.addEventListener('ended', function() {
                    // Loop the audio - reset stored position
                    station.lastPosition = 0;
                    audioPlayer.currentTime = 0;
                    startTime = 0;
                    totalElapsedSeconds = 0;
                    audioPlayer.play().catch(e => console.error('Loop play failed:', e));
                });
            } else {
                // Change source of existing player
                audioPlayer.src = station.audioFile;
            }
            
            // Set volume to 70%
            audioPlayer.volume = 0.7;
            
            // Set start time and play
            audioPlayer.currentTime = startSeconds;
            audioPlayer.play().catch(e => {
                console.error('Playback failed:', e);
            });
            
            // Update tracking
            startTime = startSeconds;
            totalElapsedSeconds = startSeconds;
            isPlaying = true;
            
            // Reset and start fresh time tracker
            startElapsedTimeTracker();
            
            // Mark as playing
            stationButtons.forEach(btn => {
                if (btn.getAttribute('data-station') === stationKey) {
                    btn.classList.add('playing');
                }
            });
            
            // Update current station
            currentStation = stationKey;
            currentStationData = station;
            
            // Show station name
            const minutes = Math.floor(startSeconds / 60);
            const seconds = startSeconds % 60;
            const paddedSeconds = seconds.toString().padStart(2, '0');
            nowPlaying.textContent = `♫ ${station.displayName} (${minutes}:${paddedSeconds})`;
            console.log(`Playing ${station.name} from ${minutes}:${paddedSeconds}`);
        }

        // Event listeners for station buttons
        stationButtons.forEach(button => {
            button.addEventListener('click', () => {
                const stationKey = button.getAttribute('data-station');
                toggleStation(stationKey);
            });
        });

        // Radio toggle
        radioToggle.addEventListener('click', () => {
            const wasActive = radioPlayer.classList.contains('active');
            radioPlayer.classList.toggle('active');
            
            // Pick random station when opening radio
            if (!wasActive && radioPlayer.classList.contains('active')) {
                // Only auto-select if no station is currently playing
                if (!currentStation || !isPlaying) {
                    const stationKeys = Object.keys(stations);
                    const randomStationKey = stationKeys[Math.floor(Math.random() * stationKeys.length)];
                    toggleStation(randomStationKey);
                }
            }
        });

        closeRadio.addEventListener('click', () => {
            radioPlayer.classList.remove('active');
        });

        // Close radio when clicking outside
        document.addEventListener('click', (e) => {
            if (!radioPlayer.contains(e.target) && e.target !== radioToggle) {
                if (radioPlayer.classList.contains('active')) {
                    // Don't close, just let user use the close button
                }
            }
        });

        // Get references to login elements
        const loginScreen = document.getElementById('loginScreen');
        const enterBtn = document.getElementById('enterBtn');
        const mainContent = document.querySelector('.main-content');
        
        // Show ENTER button after login animation completes
        setTimeout(() => {
            enterBtn.style.display = 'block';
            setTimeout(() => {
                enterBtn.style.opacity = '1';
            }, 50);
        }, 3000);
        
        // Handle ENTER button click
        function handleEnterClick() {
            console.log('User interaction detected - starting system...');
            
            // Hide login screen with fade
            loginScreen.style.transition = 'opacity 0.5s ease';
            loginScreen.style.opacity = '0';
            
            setTimeout(() => {
                loginScreen.style.visibility = 'hidden';
                
                // Show main content with fade
                mainContent.style.transition = 'opacity 0.5s ease';
                mainContent.style.opacity = '1';
                
                // Start radio after the fade transition is complete
                setTimeout(startRadio, 500);
                
            }, 500); // Wait for fade out to complete
        }
        
        // Function to start the radio
        function startRadio() {
            console.log('Starting radio...');
            
            // Start Radio New Vegas automatically
            const stationKey = 'radio-new-vegas';
            const station = stations[stationKey];
            
            // Get random start time
            const startSeconds = getRandomStartTime(station.timestamps);
            
            // Create and start audio player
            audioPlayer = new Audio(station.audioFile);
            audioPlayer.volume = 0.7;
            audioPlayer.currentTime = startSeconds;
            
            // Now we can play because user has interacted!
            audioPlayer.play().then(() => {
                console.log('Radio started successfully');
                
                // Update tracking
                currentStation = stationKey;
                currentStationData = station;
                startTime = startSeconds;
                totalElapsedSeconds = startSeconds;
                isPlaying = true;
                
                // Start time tracking
                startElapsedTimeTracker();
                
                // Mark as playing
                stationButtons.forEach(btn => {
                    if (btn.getAttribute('data-station') === stationKey) {
                        btn.classList.add('playing');
                    }
                });
                
                console.log(`Radio playing from ${Math.floor(startSeconds/60)}:${(startSeconds%60).toString().padStart(2,'0')}`);
                
            }).catch(e => {
                console.error('Radio play failed:', e);
                // Still set up tracking even if play failed
                currentStation = stationKey;
                currentStationData = station;
                startTime = startSeconds;
                totalElapsedSeconds = startSeconds;
                isPlaying = false;
            });
        }
        
        // Event listeners for ENTER button
        enterBtn.addEventListener('click', handleEnterClick);
        
        // Also allow pressing Enter key on keyboard
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && loginScreen.style.opacity !== '0' && enterBtn.style.display === 'block') {
                handleEnterClick();
            }
        });

        // Get the tagline element
        const tagline = document.querySelector('.profile-tagline');

        // Array of Fallout quotes
        const quotes = [
            "WAR. WAR NEVER CHANGES.",
            "PATROLLING THE MOJAVE ALMOST MAKES YOU WISH FOR A NUCLEAR WINTER.",
            "THE GAME WAS RIGGED FROM THE START.",
            "DEMOCRACY IS NON-NEGOTIABLE.",
            "AIN'T THAT A KICK IN THE HEAD?",
            "WE CAN'T EXPECT GOD TO DO ALL THE WORK.",
            "BEGIN AGAIN, BUT KNOW WHEN TO LET GO.",
            "THE HOUSE ALWAYS WINS.",
            "AD VICTORIAM!",
            "DEGENERATES LIKE YOU BELONG ON A CROSS.",
            "I DON'T WANT TO SET THE WORLD ON FIRE.",
            "WHAT IN THE GODDAMN...",
            "TRUTH IS... THE GAME WAS RIGGED FROM THE START.",
            "I DON'T ENJOY KILLING, BUT WHEN DONE RIGHTEOUSLY, IT'S JUST A CHORE.",
            "IF YOU WANT TO SEE THE FATE OF DEMOCRACIES, LOOK OUT THE WINDOWS.",
            "SMOOTHSKIN.",
            "FOR THE GLORY OF THE BROTHERHOOD!",
            "WHEN I GOT THIS ASSIGNMENT, I WAS HOPING THERE'D BE MORE GAMBLING.",
            "THE FIRE INSIDE ME BURNS BRIGHTER THAN THE FIRE AROUND ME.",
            "THE PRESIDENT OF THE UNITED-FUCKING-STATES-OF-AMERICA. WHO'D YOU THINK I WAS TALKING ABOUT? WHO THE FU- WHO IS- WHAT- I SHOULD KICK YOUR FUCKING ASS, WHO IS THIS?"
        ];

        // Replace with random quote when page loads
        if (tagline) {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            tagline.textContent = quotes[randomIndex];
        }

        (async () => {
            const feedUrl =
                "https://www.youtube.com/feeds/videos.xml?channel_id=UCzWlkdjmrpyr4EHL2-6QTJQ";

            const proxyUrl =
                "https://api.allorigins.win/get?url=" + encodeURIComponent(feedUrl) + "&_=" + Date.now();

            const res = await fetch(proxyUrl);
            const data = await res.json(); // AllOrigins wraps the XML in JSON
            const xmlText = data.contents;

            const parser = new DOMParser();
            const xml = parser.parseFromString(xmlText, "application/xml");

            const entries = [...xml.getElementsByTagName("entry")];
            
            // Clear existing content
            document.getElementById("shorts").innerHTML = "";
            document.getElementById("video").innerHTML = "";
            
            // Arrays to store filtered content
            const shorts = [];
            const fullVideos = [];
            
            // Process all entries to categorize them
            for (let entry of entries) {
                const videoIdEl = entry.getElementsByTagNameNS(
                    "http://www.youtube.com/xml/schemas/2015",
                    "videoId"
                )[0];
                
                if (!videoIdEl) continue;
                
                const videoId = videoIdEl.textContent;
                const descriptionEl = entry.getElementsByTagNameNS(
                    "http://search.yahoo.com/mrss/",
                    "description"
                )[0];
                
                const description = descriptionEl ? descriptionEl.textContent : "";
                const titleEl = entry.getElementsByTagName("title")[0];
                const title = titleEl ? titleEl.textContent : "";
                
                // Check if it's a short by looking for hashtags in description
                const hasHashtags = /#\w+/i.test(description);
                
                const videoData = {
                    id: videoId,
                    title: title,
                    description: description,
                    entry: entry
                };
                
                if (hasHashtags) {
                    shorts.push(videoData);
                } else {
                    fullVideos.push(videoData);
                }
            }
            
            // Load the 2 most recent shorts
            const shortsContainer = document.getElementById("shorts");
            const shortsToLoad = shorts.slice(0, 2);
            
            shortsToLoad.forEach((short, index) => {
                const container = document.createElement("div");
                container.className = "short-container";
                
                const iframe = document.createElement("iframe");
                iframe.src = `https://www.youtube.com/embed/${short.id}?rel=0&modestbranding=1`;
                iframe.frameBorder = "0";
                iframe.allow =
                    "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                iframe.allowFullscreen = true;

                iframe.onerror = () => {
                    console.warn(`Short ${short.id} could not be embedded.`);
                    iframe.remove();
                };
                
                container.appendChild(iframe);
                shortsContainer.appendChild(container);
            });
            
            // Load the 1 most recent full-length video
            const videoContainer = document.getElementById("video");
            if (fullVideos.length > 0) {
                const video = fullVideos[0];
                const container = document.createElement("div");
                container.className = "video-container";
                
                const iframe = document.createElement("iframe");
                iframe.src = `https://www.youtube.com/embed/${video.id}?rel=0&modestbranding=1`;
                iframe.frameBorder = "0";
                iframe.allow =
                    "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                iframe.allowFullscreen = true;

                iframe.onerror = () => {
                    console.warn(`Video ${video.id} could not be embedded.`);
                    iframe.remove();
                };
                
                container.appendChild(iframe);
                videoContainer.appendChild(container);
            } else {
                videoContainer.innerHTML = "<p>No full-length videos found.</p>";
            }
            
            // Optional: Log what we found
            console.log(`Found ${shorts.length} shorts and ${fullVideos.length} full-length videos`);
            console.log("Shorts:", shorts.map(s => s.id));
            console.log("Full videos:", fullVideos.map(v => v.id));
        })();


    </script>

</body>
</html>